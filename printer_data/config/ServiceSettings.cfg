# ================================
# Service Macros - User Settings
# ================================
# Include this file ONCE from printer.cfg:
#   [include ServiceMacros/ServiceSettings.cfg]
#
# This is the ONLY file users should edit. All other
# ServiceMacros/*.cfg files are internal components.

[gcode_macro Service_settings]
# Toolhead / filament handling
variable_retract_distance: 10          # Distance (mm) to retract / extrude for service moves
variable_retract_temp: 220             # Extruder temp (°C) used to retract filament
variable_nozzle_swap_temp: 280         # Hot nozzle swap temp (°C) for traditional hotends
variable_cold_swap_hotend: False       # True if using a cold-swap hotend (e.g. Revo-style)
variable_cold_swap_temp: 60            # Target temp (°C) before performing a cold nozzle swap

# Visual feedback
variable_leds: True                    # True if LED effects (status_heating, rainbow, etc.) are configured

# Dockable probe support (Klicky, Euclid, etc.)
variable_dockable_probe: False         # True if a dockable probe is installed
variable_attach_probe: ""              # Custom G-code to attach probe (e.g. "ATTACH_PROBE")
variable_detach_probe: ""              # Custom G-code to detach probe (e.g. "DETACH_PROBE")

# Auto probe after nozzle change
variable_autoprobe_after_nozzle_change: False   # If True, run probe repeatability test after nozzle swap

gcode:
    {action_respond_info("Service settings loaded; this macro only stores configuration.")}

# Internal includes (managed by installer / repo)
[include ServiceMacros/Service_Main.cfg]
[include ServiceMacros/Service_Probe.cfg]
[include ServiceMacros/Service_Checks.cfg]
[include ServiceMacros/Service_Nozzle.cfg]
